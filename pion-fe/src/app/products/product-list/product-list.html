<div class="container mt-4">
  <h2>Danh sách sản phẩm</h2>
  <a routerLink="/products/new" class="btn btn-success mb-3">Thêm sản phẩm</a>

  <div class="mb-3">
    <label for="searchInput" class="form-label visually-hidden">Tìm kiếm sản phẩm</label>
    <input id="searchInput" name="searchInput" type="text" [(ngModel)]="searchKeyword" placeholder="Tìm kiếm sản phẩm" class="form-control"
      style="max-width:300px; display:inline-block;" autocomplete="off">
    <button class="btn btn-primary ms-2" (click)="onSearch()">Tìm kiếm</button>
    <button class="btn btn-secondary ms-2" (click)="clearSearch()" *ngIf="searchKeyword">Xoá</button>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col" *ngFor="let product of products">
      <div class="card h-100">
        <img *ngIf="product.imageUrl" [src]="getImageUrl(product.imageUrl)" class="card-img-top" alt="Ảnh sản phẩm"
          style="height: 200px; object-fit: cover;" />
        <div class="card-body">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text">
            <span *ngFor="let tag of product.tags" class="badge bg-primary me-1">{{ tag }}</span>
          </p>
        </div>
        <div class="card-footer d-flex justify-content-between">
          <a [routerLink]="['/products/edit', product.id]" class="btn btn-sm btn-outline-primary">Sửa</a>
          <button (click)="deleteProduct(product.id)" class="btn btn-sm btn-outline-danger">Xoá</button>
        </div>
      </div>
    </div>
  </div>
</div>
